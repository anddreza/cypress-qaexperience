"use strict";var _require=require("pg"),Pool=_require.Pool,dbConfig={host:"babar.db.elephantsql.com",user:"knwprhil",password:"LszmKao6wNjC76J2K5NXow-7DlTX40zG",database:"knwprhil",port:5432},pool=new Pool(dbConfig);function deleteUser(r){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(pool.query("DELETE FROM users WHERE email = $1",[r]));case 2:case"end":return e.stop()}})}function insertUser(r){var n,s,t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return"INSERT INTO users (name, email, password, is_shaver) VALUES ($1, $2, $3, $4) returning id",n=[r.name,r.email,r.password,r.is_shaver],e.next=4,regeneratorRuntime.awrap(pool.query("INSERT INTO users (name, email, password, is_shaver) VALUES ($1, $2, $3, $4) returning id",n));case 4:return s=e.sent,t=s.rows[0].id,e.abrupt("return",t);case 7:case"end":return e.stop()}})}function findToken(r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return"select B.token fromusers A INNER JOIN user_tokens BON A.id = B.user_id whereA.email = $1ORDER bY B.created_at DESC LIMIT 1",e.next=3,regeneratorRuntime.awrap(pool.query("select B.token fromusers A INNER JOIN user_tokens BON A.id = B.user_id whereA.email = $1ORDER bY B.created_at DESC LIMIT 1",[r]));case 3:return n=e.sent,console.log(n.rows[0]),e.abrupt("return",n.rows[0]);case 6:case"end":return e.stop()}})}module.exports={deleteUser:deleteUser,insertUser:insertUser,findToken:findToken};
//# sourceMappingURL=db.min.js.map
